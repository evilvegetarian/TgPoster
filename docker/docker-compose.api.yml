networks:
  default:
    name: tg

services:
  tgposter-api:
    volumes:
      - ./api-logs:/app/logs
    container_name: tgposter-api
    image: ${TGPOSTER_API_IMAGE:-ghcr.io/evilvegetarian/tgposter-api:latest}
    ports:
      - '8070:8070' 
    user: "1654:1654"
    environment:
      ASPNETCORE_ENVIRONMENT: "Production"
      ASPNETCORE_URLS: "http://+:8070"
      DataBase__ConnectionString: ${CONNECTIONSTRING:-Host=localhost;Username=admin;Password=admin;Database=tg-db}
      JwtOptions__SecretKey: ${TGPOSTER_API_JWTOPTIONS_SECRETKEY}
      TelegramOptions__SecretKey: ${TELEGRAMOPTIONS_SECRETKEY}